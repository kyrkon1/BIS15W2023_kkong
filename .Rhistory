summarize(across(ra_apes:ra_ungulate),na.rm =T, n=n())
transects %>%
group_by(distance)
summarize(across(ra_apes:ra_ungulate),na.rm =T, n=n())
transects %>%
fgroup_by(distance) %>%
select(ra_apes:ra_ungulate) %>%
summarize(across(ra_apes:ra_ungulate),na.rm =T, n=n())
transects %>%
group_by(distance) %>%
select(ra_apes:ra_ungulate) %>%
summarize(across(ra_apes:ra_ungulate),na.rm =T, n=n())
transects %>%
summarize(across(c(ra_apes,ra_birds,ra_elephant,ra_monkeys, ra_rodent, ra_ungulate),n_distinct))
transects %>%
group_by(distance) %>%
summarize(across(c(ra_apes,ra_birds,ra_elephant,ra_monkey,ra_rodent,ra_ungulate)))
transects %>%
group_by(distance) %>%
summarize(across(c(ra_apes,ra_birds,ra_elephant,ra_monkeys,ra_rodent,ra_ungulate)))
transects %>%
group_by(distance) %>%
filter(distance >3) %>%
summarize(across(c(ra_apes,ra_birds,ra_elephant,ra_monkeys,ra_rodent,ra_ungulate)))
transects %>%
group_by(distance) %>%
filter(distance <=3) %>%
summarize(across(c(ra_apes,ra_birds,ra_elephant,ra_monkeys,ra_rodent,ra_ungulate)))
transects %>%
group_by(distance) %>%
filter(distance >=25) %>%
summarize(across(c(ra_apes,ra_birds,ra_elephant,ra_monkeys,ra_rodent,ra_ungulate)))
names(transects)
transects %>%
group_by(diversity_all_species) %>%
summarize(mean_num_households = mean(num_households, na.rm =T),n=n())
elephants %>%
count(sex)
elephants %>%
group_by(sex) %>%
filter(age >= 20) %>%
summarize(mean_height = mean(height, na.rm =T),
min_height = min(height,na.rm=T),
max_height =max(height,na.rm =T),
n_elephants=n())
gabon <-read.csv("data/IvindoData_DryadVersion.csv")
glimpse(gabon)
gabon <-janitor::clean_names(gabon)
names(gabon)
gabon <-gabon %>%
mutate_if(is.character,factor)
glimpse(gabon)
gabon %>%
filter(hunt_cat =="High")) %>%
gabon %>%
filter(hunt_cat =="High") %>%
summarize(mean_diversity_bird = mean(diversity_bird_species, na.rm=T),
mean_diversity_mammal = mean(diversity_mammal_species, na.rm =T),
nsamples=n())
gabon %>%
filter(hunt_cat =="Moderate") %>%
summarize(mean_diversity_bird = mean(diversity_bird_species, na.rm=T),
mean_diversity_mammal = mean(diversity_mammal_species, na.rm =T),
nsamples=n())
gabon %>%
filter(distance <3) %>%
summarize(across(contains"ra_"),mean))
gabon %>%
filter(distance <3) %>%
summarize(across(contains"ra"),mean))
gabon %>%
filter(distance <3) %>%
summarize(across(contains("ra_"),mean))
gabon %>%
filter(distance> 25) %>%
summarize(across(contains("ra_"),mean))
knitr::opts_chunk$set(echo = TRUE)
glimpse(fisheries)
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
names(fisheries)
dim(fisheries)
anyNA(fisheries)
glimpse(fisheries)
fisheries <- janitor::clean_names(fisheries)
names(fisheries)
fisheries<- fisheries %>%
mutate(across(c(country, isscaap_group_number, asfis_species_number, fao_major_fishing_area),as_factor))
glimpse(fisheries)
glimpse(fisheries)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries_tidy %>%
count(country)
fisheries %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year, catch)
name(fisheries)
names(fisheries)
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year, catch)
knitr::opts_chunk$set(echo = TRUE)
fisheries_tidy %>%
group_by(asfis_species_number) %>%
summarize(n_distinct=(asfis_species_name))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
names(fisheries)
dim(fisheries)
anyNA(fisheries)
glimpse(fisheries)
fisheries <- janitor::clean_names(fisheries)
names(fisheries)
fisheries<- fisheries %>%
mutate(across(c(country, isscaap_group_number, asfis_species_number, fao_major_fishing_area),as_factor))
glimpse(fisheries)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries_tidy %>%
count(country)
names(fisheries)
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year, catch)
fisheries_tidy %>%
group_by(asfis_species_number) %>%
summarize(n_distinct=(asfis_species_name))
fisheries_tidy %>%
group_by(asfis_species_number) %>%
summarize(fish_species =n_distinct(asfis_species_name))
fisheries_tidy %>%
group_by(asfis_species_number) %>%
fisheries_tidy %>%
group_by(asfis_species_number)
fisheries_tidy %>%
group_by(asfis_species_number) %>%
select(common_name)
fisheries_tidy %>%
group_by(asfis_species_number) %>%
tabyl(asfis_species_name)
fisheries_tidy %>%
group_by(asfis_species_number) %>%
summarize(n_distinct_fish= n_distinct(asfis_species_name))
fisheries_tidy %>%
summarize(n_distinct_fish= n_distinct(asfis_species_name))
fisheries_tidy %>%
summarize(n_distinct_fish= n_distinct(asfis_species_name)) %>%
select(asfis_species_number)
fisheries_tidy %>%
summarize(n_distinct_fish= n_distinct(asfis_species_name)) %>%
filter(asfis_species_number)
fisheries_tidy %>%
select(asfis_species_number) %>%
summarize(n_distinct_fish= n_distinct(asfis_species_name)) %>%
fisheries_tidy %>%
select(asfis_species_number) %>%
summarize(n_distinct_fish= n_distinct(asfis_species_name))
fisheries_tidy %>%
select(asfis_species_number) %>%
summarize(n_distinct_fish= n_distinct(asfis_species_name))
fisheries_tidy %>%
group_by(asfis_species_name, asfis_species_number)
fisheries_tidy %>%
group_by(asfis_species_name, asfis_species_number) %>%
summarize(n_distinct_species= n_distinct(asfis_species_number))
knitr::opts_chunk$set(echo = TRUE)
fisheries_tidy %>%
select(country, year, catch, isscaap_taxonomic_group) %>%
filter(between(year, 2008,2021)) %>%
filter(isscaap_taxonomic_group == "Cephalopods") %>%
arrange(desc(catch))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
names(fisheries)
dim(fisheries)
anyNA(fisheries)
glimpse(fisheries)
fisheries <- janitor::clean_names(fisheries)
names(fisheries)
fisheries<- fisheries %>%
mutate(across(c(country, isscaap_group_number, asfis_species_number, fao_major_fishing_area),as_factor))
glimpse(fisheries)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries_tidy %>%
count(country)
names(fisheries)
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year, catch)
fisheries_tidy %>%
summarize(n_distinct_species= n_distinct(asfis_species_number))
fisheries_tidy %>%
select(country, catch, year) %>%
group_by(catch) %>%
filter(year=="2000") %>%
arrange(desc(catch))
fisheries_tidy %>%
select(country, asfis_species_name, year, catch) %>%
filter(asfis_species_name == "Sardina pilchardus") %>%
filter(between(year, 1990, 2000)) %>%
arrange(desc(catch))
fisheries_tidy %>%
select(country, year, catch, isscaap_taxonomic_group) %>%
filter(between(year, 2008,2021)) %>%
filter(isscaap_taxonomic_group == "Squids, cuttlefishes, octopuses") %>%
arrange(desc(catch))
fisheries_tidy %>%
select(country, year, catch, isscaap_taxonomic_group) %>%
filter(between(year, 2008,2021)) %>%
filter(isscaap_taxonomic_group == "Cephalopods") %>%
arrange(desc(catch))
knitr::opts_chunk$set(echo = TRUE)
fisheries_tidy %>%
sum(across(country$catch))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
names(fisheries)
dim(fisheries)
anyNA(fisheries)
glimpse(fisheries)
fisheries <- janitor::clean_names(fisheries)
names(fisheries)
fisheries<- fisheries %>%
mutate(across(c(country, isscaap_group_number, asfis_species_number, fao_major_fishing_area),as_factor))
glimpse(fisheries)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries_tidy %>%
count(country)
names(fisheries)
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year, catch)
fisheries_tidy %>%
summarize(n_distinct_species= n_distinct(asfis_species_number))
fisheries_tidy %>%
select(country, catch, year) %>%
group_by(catch) %>%
filter(year=="2000") %>%
arrange(desc(catch))
fisheries_tidy %>%
select(country, asfis_species_name, year, catch) %>%
filter(asfis_species_name == "Sardina pilchardus") %>%
filter(between(year, 1990, 2000)) %>%
arrange(desc(catch))
fisheries_tidy %>%
sum(across(country$catch))
fisheries_tidy %>%
sum(across(country$catch)))
tabyl(fisheries$country)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
names(fisheries)
dim(fisheries)
anyNA(fisheries)
glimpse(fisheries)
fisheries <- janitor::clean_names(fisheries)
names(fisheries)
fisheries<- fisheries %>%
mutate(across(c(country, isscaap_group_number, asfis_species_number, fao_major_fishing_area),as_factor))
glimpse(fisheries)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries_tidy %>%
count(country)
names(fisheries)
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year, catch)
fisheries_tidy %>%
summarize(n_distinct_species= n_distinct(asfis_species_number))
fisheries_tidy %>%
select(country, catch, year) %>%
group_by(catch) %>%
filter(year=="2000") %>%
arrange(desc(catch))
fisheries_tidy %>%
filter(year=="2000") %>%
group_by(country) %>%
summarize(catch_total=sum(catch,na.rm=T)) %>%
arrange(desc(catch_total))
fisheries_tidy %>%
filter(between(year, 1990, 2000)) %>%
group_by(country) %>%
filter(asfis_species_name == "Sardina pilchardus") %>%
summarize(catch_total=sum(catch,na.rm =T)) %>%
arrange(desc(catch_total))
fisheries_tidy %>%
group_by(country) %>%
filter(between(year, 2008,2021)) %>%
filter(isscaap_taxonomic_group == "Squids, cuttlefishes, octopuses") %>%
summarize(catch_total=sum(catch,na.rm =T)) %>%
arrange(desc(catch_total))
fisheries_tidy %>%
group_by(country) %>%
filter(between(year,2008,2012), isscaap_group_number != "Osteichthyes") %>%
summarize(catch_total = sum(catch,na.rm =T)) %>%
arrange(desc(catch))
fisheries_tidy %>%
group_by(country) %>%
filter(between(year,2008,2012), isscaap_group_number != "Osteichthyes") %>%
summarize(catch_total = sum(catch,na.rm =T)) %>%
arrange(desc(catch_total))
fisheries_tidy %>%
group_by(isscaap_taxonomic_group) %>%
filter(between(year,2008,2012), isscaap_group_number != "Osteichthyes") %>%
summarize(catch_total = sum(catch,na.rm =T)) %>%
arrange(desc(catch_total))
fisheries_tidy %>%
group_by(common_name) %>%
filter(between(year,2008,2012), isscaap_group_number != "Osteichthyes") %>%
summarize(catch_total = sum(catch,na.rm =T)) %>%
arrange(desc(catch_total))
fisheries_tidy %>%
group_by(asfis_species_name) %>%
filter(between(year,2008,2012), isscaap_group_number != "Osteichthyes") %>%
summarize(catch_total = sum(catch,na.rm =T)) %>%
arrange(desc(catch_total))
fisheries_tidy %>%
group_by(asfis_species_name) %>%
filter(between(year,2008,2012), asfis_species_name != "Osteichthyes") %>%
summarize(catch_total = sum(catch,na.rm =T)) %>%
arrange(desc(catch_total))
fisheries_tidy %>%
group_by(country) %>%
select(common_name, year, catch) %>%
filter(between(year, 2000,2010)) %>%
arrange(desc(catch))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
amniota <-read.csv("data/amniota.csv")
amphibio <-read.csv("data/amphibio.csv")
glimpse(amniota)
glimpse(amphibio)
amniota %>%
summarize_all(~sum(is.na(.)))
amphibio %>%
summarize_all(~sum(is.na(.)))
amniota_tidy <-amniota %>%
na_if("-999")
naniar::miss_var_summary(amniota_tidy)
naniar::miss_var_summary(amphibio)
names(amniota)
anyNA(amniota_tidy$egg_mass_g)
amniota_egg_mass <- amniota_tidy %>%
select(class,egg_mass_g)
amniota_egg_mass %>%
group_by(class) %>%
summarise_all(~(sum(is.na(.))))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
#install.packages("here")
library("here")
getwd()
sydney_beaches <-read.csv("data/sydneybeaches.csv")
library(here)
sydneybeaches <-read_csv(here("lab8", "data", "sydneybeaches.csv")) %>% janitor::clean_names()
setwd("C:/Users/merma/OneDrive/Desktop/BIS15W2023_kkong/lab8")
setwd("C:/Users/merma/OneDrive/Desktop/BIS15W2023_kkong")
expenditures %>%
pivot_longer(-c(expenditure),
names_to = "dates",
values_to = "bn_dollars",
values_drop_na = TRUE)
expenditures <-
USPersonalExpenditure %>%
as_tibble() %>%
mutate(expenditure = rownames(USPersonalExpenditure))
expenditures
expenditures %>%
pivot_longer(-c(expenditure),
names_to = "dates",
values_to = "bn_dollars",
values_drop_na = TRUE)
sydneybeaches_long <- sydneybeaches %>%
select(site,date, enterococci_cfu_100ml)
sydneybeaches_long <- sydneybeaches %>%
select(site,date, enterococci_cfu_100ml)
sydneybeaches_long
heartrate %>%
pivot_longer(-patient, # patient not pivot
names_to= "drug", # new column
values_to = "heartrate" # values are moved
)
heartrate <- read_csv("data/heartrate.csv")
heartrate
billboard2 <-
billboard %>%
pivot_longer(wk1:wk76, # a range of columns
names_to = "week",
values_to = "rank",
values_drop_na = TRUE #this will drop the NA's
)
billboard2
plant_data <- read_csv(here("data","plant_data.csv"))
plant_data <- read_csv(here("lab8", "data","plant_data.csv"))
plant_data
plant_data %>%
pivot_longer(-c(genotype, water_sched_prog, greenhouse), # columns to keep
names_to = "v1",
values_to ="stem_length_cm",
values_drop_na = TRUE) # removal of NAs
sydneybeaches_wide<- sydneybeaches %>%
pivot_wider(names_from = "dates",
values = "site")
sydneybeaches_wide<- sydneybeaches %>%
pivot_wider(names_from = "dates",
values = "site")
sydneybeaches_wide<- sydneybeaches %>%
pivot_wider(names_from = "dates",
values_from = "site")
sydneybeaches_wide<- sydneybeaches %>%
pivot_wider(names_from = "date",
values_from = "site")
sydneybeaches_wide<- sydneybeaches %>%
pivot_wider(names_from = "date",
values_from = "site")
sydneybeaches_wide
sydneybeaches_wide<- sydneybeaches %>%
pivot_wider(names_from = "date",
values_from = "site",
values_drop_na =TRUE)
sydneybeaches_wide<- sydneybeaches_long %>%
group_by(site) %>%
pivot_wider(names_from = "date",
values_from= "enterococci_cfu_100ml")
sydneybeaches_wide<- sydneybeaches_long %>%
group_by(site) %>%
pivot_wider(names_from = "date",
values_from= "enterococci_cfu_100ml")
sydneybeaches_wide
sydneybeaches_wide<- sydneybeaches_long %>%
group_by(site) %>%
pivot_wider(names_from = "date",
values_from= "enterococci_cfu_100ml",
values_drop_na = TRUE)
sydneybeaches_wide<- sydneybeaches_long %>%
group_by(site) %>%
pivot_wider(names_from = "date",
values_from= "enterococci_cfu_100ml")
sydneybeaches_wide
sydneybeaches_wide %>%
pivot_wider(names_to = "dates",
values_from = "enterococci_cfu_100ml")
sydneybeaches_wide %>%
pivot_wider(names_to = "dates",
values_to = "enterococci_cfu_100ml")
sydneybeaches_wide %>%
pivot_wider(names_to = "date",
values_to = "enterococci_cfu_100ml")
sydneybeaches_wide %>%
pivot_longer(-c("site"),
names_to = "date",
values_to = "enterococci_cfu_100ml")
