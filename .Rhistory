geom_line()
gapminder %>%
select(continent, lifeExp, year) %>%
ggplot(aes(x=year,y=lifeExp, color = continent))+
geom_line()
gapminder %>%
filter(year == 1952| year == 2007) %>%
group_by(lifeExp) %>%
ggplot(aes(x=year, y= lifeExp)) +
geom_line(fill = "peachpuff", alpha =0.5)+
theme_bw()+
labs(title = "Life Expectancy between 1952 and 2007", y= "Life Expectancy")
gapminder %>%
select(continent, lifeExp, year) %>%
ggplot(aes(x=year,y=lifeExp, color = continent))+
geom_line()+
labs(title= "Life Expectancy between 1952 and 2007 across continents",
x= "year", y= "Life Expectancy")
gapminder %>%
filter(continent == "Africa") %>%
filter(between(year, 1952,2007)) %>%
ggplot(aes(x=year, y= lifeExp)) +
geom_col(alpha=0.5, fill= "green")+
labs(title= "Life Expectancy between 1952 and 2007 for Americas",
x= "Year", y= "Life Expectancy")+
theme_bw()
gapminder %>%
filter(continent == "Americas") %>%
filter(between(year, 1952,2007)) %>%
ggplot(aes(x=year, y= lifeExp)) +
geom_col(alpha=0.5, fill = "red'")+
labs(title= "Life Expectancy between 1952 and 2007 for Americas",
x= "Year", y= "Life Expectancy")+
theme_bw()
gapminder %>%
filter(continent == "Americas") %>%
filter(between(year, 1952,2007)) %>%
ggplot(aes(x=year, y= lifeExp)) +
geom_col(alpha=0.5, fill = "red")+
labs(title= "Life Expectancy between 1952 and 2007 for Americas",
x= "Year", y= "Life Expectancy")+
theme_bw()
gapminder %>%
filter(continent == "Asia") %>%
filter(between(year, 1952,2007)) %>%
ggplot(aes(x=year, y= lifeExp)) +
geom_col(alpha=0.5, fill= "pink")+
labs(title= "Life Expectancy between 1952 and 2007 for Asia",
x= "Year", y= "Life Expectancy")+
theme_bw()
gapminder %>%
filter(continent == "Europe") %>%
filter(between(year, 1952,2007)) %>%
ggplot(aes(x=year, y= lifeExp)) +
geom_col(alpha=0.5, fill= "orange")+
labs(title= "Life Expectancy between 1952 and 2007 for Europe",
x= "Year", y= "Life Expectancy")+
theme_bw()
gapminder %>%
filter(continent == "Oceania") %>%
filter(between(year, 1952,2007)) %>%
ggplot(aes(x=year, y= lifeExp)) +
geom_col(alpha=0.5, fill= "purple")+
labs(title= "Life Expectancy between 1952 and 2007 for Oceania",
x= "Year", y= "Life Expectancy")+
theme_bw()
gapminder %>%
select(continent, lifeExp, year) %>%
ggplot(aes(x=year,y=lifeExp, group = continent))+
geom_line()+
labs(title= "Life Expectancy between 1952 and 2007 across continents",
x= "year", y= "Life Expectancy")
gapminder %>%
select(continent, lifeExp, year) %>%
ggplot(aes(x=year,y=lifeExp, color = continent))+
geom_line()+
labs(title= "Life Expectancy between 1952 and 2007 across continents",
x= "year", y= "Life Expectancy")
gapminder %>%
select(continent, lifeExp, year) %>%
ggplot(aes(x=year,y=lifeExp, fill = continent))+
geom_line()+
labs(title= "Life Expectancy between 1952 and 2007 across continents",
x= "year", y= "Life Expectancy")
gapminder %>%
filter(between(year, 1952, 2007)) %>%
select(continent, lifeExp, year) %>%
ggplot(aes(x=year,y=lifeExp, fill = continent))+
geom_line()+
labs(title= "Life Expectancy between 1952 and 2007 across continents",
x= "year", y= "Life Expectancy")
gapminder %>%
ggplot(aes(x=continent, y= gdpPercap, fill= range_pop))+
geom_boxplot(alpha=0.5)+
facet_grid(.~range_pop)+
scale_y_log10()+
theme(axis.text.x = element_text(angle=60))+
labs(title= "Per Capita GDP by Continent and Population Range",
x= "Continent", y= "Per Capita GDP")
gapminder %>%
filter(year == 1952| year == 2007) %>%
group_by(lifeExp) %>%
ggplot(aes(x=year, y= lifeExp)) +
geom_col(fill = "peachpuff", alpha =0.5)+
theme_bw()+
labs(title = "Life Expectancy between 1952 and 2007", y= "Life Expectancy")
gapminder %>%
filter(year == 1952| year == 2007) %>%
group_by(lifeExp)
gapminder %>%
filter(year == 1952| year == 2007) %>%
group_by(lifeExp) %>%
summarize(min_lifeExp= min(lifeExp),
mean_lifeExp = mean(lifeExp),
max_lifeExp = max(lifeEXp))
gapminder %>%
filter(year == 1952| year == 2007) %>%
group_by(lifeExp) %>%
mutate(mean_globallifeexp = mean(lifeExp))
gapminder %>%
filter(year == 1952| year == 2007) %>%
ggplot(aes(x=year, y= lifeExp))+
geom_line()
gapminder %>%
filter(year == 1952| year == 2007) %>%
ggplot(aes(x=year, y= lifeExp))+
geom_col()
gapminder %>%
filter(year == 1952| year == 2007) %>%
ggplot(aes(x=year, y= lifeExp, group = country))+
geom_line(alpha=0.5)
gapminder %>%
filter(year == 1952| year == 2007) %>%
ggplot(aes(x=year, y= lifeExp, group = country, color= continent))+
geom_line(alpha=0.5)
gapminder %>%
filter(year == 1952| year == 2007) %>%
ggplot(aes(x=year, y= lifeExp, group = country, color= continent))+
geom_col()
gapminder %>%
filter(year == 1952| year == 2007) %>%
ggplot(aes(x=year, y= lifeExp, group = country, color= continent))+
geom_col(position = "dodge")
gapminder %>%
filter(year== 1952| year == 2007) %>%
select(year, lifeExp) %>%
ggplot(gapminder, aes(x = year, y = lifeExp, group = country, color = continent)) +
geom_line(alpha = 0.5)
gapminder %>%
filter(year== 1952| year == 2007) %>%
select(year, lifeExp) %>%
ggplot( aes(x = year, y = lifeExp, group = country, color = continent)) +
geom_line(alpha = 0.5)
gapminder %>%
filter(year== 1952| year == 2007) %>%
ggplot(aes(x = year, y = lifeExp, group = country, color = continent)) +
geom_line(alpha = 0.5)
gapminder %>%
ggplot(aes(x=year, y= lifeExp, group = country, color= continent))+
geom_line(alpha=0.5)
gapminder %>%
ggplot(aes(x=year, y= lifeExp))+
geom_line(alpha=0.5)
gapminder %>%
ggplot(aes(x=year, y= lifeExp, group = continent))+
geom_line(alpha=0.5)
gapminder %>%
ggplot(aes(x=year, y= lifeExp, group = country, color = continent))+
geom_line(alpha=0.5)
gapminder %>%
ggplot(aes(x=year, y= lifeExp, group= country, color= continent))+
geom_line()
gapminder %>%
select(year, lifeExp)
gapminder %>%
ggplot(aes(x=year, y= lifeExp)) +
geom_col()
gapminder %>%
filter(year ==1952| year= 2007) %>%
gapminder %>%
filter(year ==1952| year== 2007) %>%
ggplot(aes(x=year, y= lifeExp)) +
geom_col()
gapminder %>%
filter(year ==1952| year== 2007) %>%
ggplot(aes(x=year, y= lifeExp)) +
geom_col(color=country)
gapminder %>%
filter(year ==1952| year== 2007) %>%
ggplot(aes(x=year, y= lifeExp, color = country_colors)) +
geom_col()
gapminder %>%
filter(year ==1952| year== 2007) %>%
ggplot(aes(x=year, y= lifeExp)) +
geom_col()
gapminder %>%
filter(year ==1952| year== 2007) %>%
ggplot(aes(x=year, y= lifeExp)) +
geom_col()+
labs(title = "Life Expectancy from 1952 and 2007",
x= "Year", y= "Life Expectancy")
gapminder %>%
ggplot(aes(x=year, y= lifeExp)) +
geom_col()+
labs(title = "Life Expectancy from 1952 and 2007",
x= "Year", y= "Life Expectancy")
gapminder %>%
filter(year== 1952| year == 2007) %>%
ggplot(aes(x = year, y = lifeExp)) +
geom_col(alpha = 0.5)+
labs(title "Life Expectancy for 1952 and 2007")
gapminder %>%
filter(year== 1952| year == 2007) %>%
ggplot(aes(x = year, y = lifeExp)) +
geom_col(alpha = 0.5)+
labs(title ="Life Expectancy for 1952 and 2007")
gapminder %>%
filter(year== 1952| year == 2007) %>%
ggplot(aes(x = year, y = lifeExp)) +
geom_col(alpha = 0.5)+
labs(title ="Life Expectancy for 1952 and 2007", x= "Year", y= "Life Expectancy")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
options(scipen=999) #disables scientific notation when printing
library(here)
population <- read_csv(here("practice_midterm2", "data", "population_total.csv"))
income <- read_csv(here("practice_midterm2", "data", "income_per_person_gdppercapita_ppp_inflation_adjusted.csv"))
life_expectancy <- read_csv(here("practice_midterm2" , "data", "life_expectancy_years.csv"))
income_tidy <-income %>%
pivot_longer(-country,
names_to = "year",
values_to = "income") %>%
mutate(country= as_factor(country))
life_expectancy_tidy <-life_expectancy %>%
pivot_longer(-country,
names_to = "year",
values_to = "life_expectancy") %>%
mutate(country= as_factor(country))
population_tidy <-population %>%
pivot_longer(-country,
names_to = "year",
values_to = "population") %>%
mutate(country= as_factor(country))
income_tidy %>%
summarize(n_country= n_distinct(country))
income_tidy %>%
count(country) %>%
select(country)
population_tidy %>%
summarize(n_country = n_distinct(country))
population_tidy %>%
count(country) %>%
select(country)
life_expectancy_tidy %>%
summarize(n_country= n_distinct(country))
life_expectancy_tidy %>%
count(country) %>%
select(country)
life_expectancy_tidy %>%
filter(between(year,1920,2020)) %>%
group_by(country) %>%
summarize(mean_life_expectancy= mean(life_expectancy)) %>%
arrange(desc(mean_life_expectancy))
life_expectancy_tidy %>%
filter(between(year,1920,2020)) %>%
group_by(country) %>%
summarize(mean_life_expectancy=mean(life_expectancy)) %>%
arrange(mean_life_expectancy)
life_expectancy_tidy %>%
filter(between(year, 1920, 2020)) %>%
pivot_wider(names_from = year,
values_from = life_expectancy) %>%
select(country, `1920`, `2020`) %>%
mutate(delta=`2020`-`1920`) %>%
top_n(5, delta)
life_expectancy_tidy %>%
filter(country == "Kuwait") %>%
filter(between(year, 1920, 2020)) %>%
ggplot(aes(x= year, y= life_expectancy, group = 1))+
geom_line(color="red")+
theme(axis.text.x= element_text(angle =75, hjust =1, size = 4))+
labs(title = "Life Expectancy in Kuwait form 1920 to 2020", x= "Year", y= "Life Expectancy")
population_tidy %>%
filter(between(year, 1920, 2020)) %>%
pivot_wider(names_from = year, values_from = population) %>%
select(country, `1920`, `2020`) %>%
mutate(delta = `2020`-`1920`) %>%
top_n(5,delta)
population %>%
filter(country == "India"| country == "China"| country == "Indonesia" | country == "United States" | country == "Pakistan") %>%
pivot_longer(-country, names_to = "year", values_to = "population") %>%
filter(year >= 1920 & year <=2020) %>%
ggplot(aes(x=year, y= population, group = country, color =country))+
geom_line()+
labs(title = "Top 5 Countries Population Growth Over 100 Years",
x= "Year", y= "POpulation ")+
theme(axis.text.x= element_text(angle= 75, hjust= 1, size= 4))
income_tidy %>%
filter(between(year, 1920, 2020)) %>%
pivot_wider(names_from = year, values_from = income) %>%
mutate(delta = `2020`-`1920`) %>%
top_n(5,delta)
life_expectancy_100 <-life_expectancy_tidy%>%
filter(between(year,1920,2020))
population_100 <-population_tidy %>%
filter(between(year,1920,2020))
income_100 <-income_tidy %>%
filter(between(year,1920,2020))
gapminder_join <- inner_join(life_expectancy_100, population_100, by= c("country", "year"))
gapminder_join <- inner_join(gapminder_join, income_100, by= c("country", "year"))
gapminder_join
gapminder_join %>%
group_by(country) %>%
select(country, life_expectancy, population) %>%
ggplot(aes(x=life_expectancy, y=population, fill=country)) +
geom_density()
gapminder_join %>%
group_by(country) %>%
select(country, life_expectancy, population) %>%
ggplot(aes(x=life_expectancy, y=population)) +
geom_density()
gapminder_join %>%
group_by(country) %>%
select(country, life_expectancy, population) %>%
ggplot(aes(x=life_expectancy, y=population)) +
geom_line()
gapminder_join %>%
group_by(country) %>%
select(country, life_expectancy, population) %>%
ggplot(aes(x=life_expectancy, y=population)) +
geom_density()
gapminder_join %>%
group_by(country) %>%
select(country, life_expectancy, population) %>%
ggplot(aes(x=life_expectancy, y=population, group=country)) +
geom_density()
gapminder_join %>%
group_by(country) %>%
mutate(mean_population = mean(population) %>%
ggplot(aes(x=life_expectancy, y=mean_population, group=country)) +
geom_density()
gapminder_join %>%
group_by(country) %>%
mutate(mean_population = mean(population))
gapminder_join %>%
group_by(country) %>%
summarize(mean_life_expectancy = mean(life_expectancy, na.rm =T),
mean_population =mean(population, na.rm=T),
mean_income = mean(income, na.rm =T))
gapminder_join %>%
group_by(country) %>%
summarize(mean_life_expectancy = mean(life_expectancy, na.rm =T),
mean_population =mean(population, na.rm=T),
mean_income = mean(income, na.rm =T)) %>%
ggplot(aex(x=mean_population, y= mean_income))+
scale_y_log10()+
geom_point()+
geom_smooth(method=lm,se=F)+
theme_linedraw()
gapminder_join %>%
group_by(country) %>%
summarize(mean_life_expectancy = mean(life_expectancy, na.rm =T),
mean_population =mean(population, na.rm=T),
mean_income = mean(income, na.rm =T)) %>%
ggplot(aes(x=mean_population, y= mean_income))+
scale_y_log10()+
geom_point()+
geom_smooth(method=lm,se=F)+
theme_linedraw()
gapminder_join %>%
group_by(country) %>%
summarize(mean_life_expectancy = mean(life_expectancy, na.rm =T),
mean_population =mean(population, na.rm=T),
mean_income = mean(income, na.rm =T)) %>%
ggplot(aes(x=mean_population, y= mean_income))+
geom_point()+
geom_smooth(method=lm,se=F)+
theme_linedraw()
gapminder_join %>%
group_by(country) %>%
summarize(mean_life_expectancy = mean(life_expectancy, na.rm =T),
mean_population =mean(population, na.rm=T),
mean_income = mean(income, na.rm =T)) %>%
ggplot(aes(x=mean_income, y= mean_population))+
geom_point()+
geom_smooth(method=lm,se=F)+
theme_linedraw()
gapminder_join %>%
group_by(country) %>%
summarize(mean_life_expectancy = mean(life_expectancy, na.rm =T),
mean_population =mean(population, na.rm=T),
mean_income = mean(income, na.rm =T)) %>%
ggplot(aes(x=mean_income, y= mean_population))+
scale_y_log10()+
geom_point()+
geom_smooth(method=lm,se=F)+
theme_linedraw()
gapminder_join %>%
group_by(country) %>%
summarize(mean_life_expectancy = mean(life_expectancy, na.rm =T),
mean_population =mean(population, na.rm=T),
mean_income = mean(income, na.rm =T)) %>%
ggplot(aes(x=mean_life_expectancy, y= mean_population))+
scale_y_log10()+
geom_point()+
geom_smooth(method=lm,se=F)+
theme_linedraw()
gapminder_join %>%
group_by(country) %>%
summarize(mean_life_expectancy = mean(life_expectancy, na.rm =T),
mean_population =mean(population, na.rm=T),
mean_income = mean(income, na.rm =T)) %>%
ggplot(aes(x=mean_life_expectancy, y= mean_income))+
scale_y_log10()+
geom_point()+
geom_smooth(method=lm,se=F)+
theme_linedraw()
gapminder_join %>%
group_by(country) %>%
summarize(mean_life_expectancy = mean(life_expectancy, na.rm =T),
mean_population =mean(population, na.rm=T),
mean_income = mean(income, na.rm =T)) %>%
ggplot(aes(x=mean_life_expectancy, y= mean_income))+
scale_y_log10()+
geom_point()+
geom_smooth(method=lm,se=F)+
theme_linedraw()+
labs(title = "Mean Life Expectancy by Mean Income", x= "Mean Life Expectancy", y= "Mean Income")
setwd("C:/Users/merma/OneDrive/Desktop/BIS15W2023_kkong")
??pivot_longer()
??pivot
??geom_boxplot
??geom_line
??geom_bar
??geom_density
??geom_point()
ls("package:ggthemes")[grepl("theme_", ls("package:ggthemes"))]
#install.packages("ggthemes")
library(ggthemes)
ls("package:ggthemes")[grepl("theme_", ls("package:ggthemes"))]
p+ theme_fivethirtyeight()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
ecosphere %>%
ggplot(aes(x=log10_mass))+
geom_density()+
facet_wrap(~habitat)+ # density grouped by habitat
labs(title= "Distribution of Log 10 Mass by Habitat", x= "Log 10 Mass", y= "Density")
ecosphere %>%
ggplot(aes(x=diet, y=log10_mass, fill=migratory_strategy))+
geom_boxplot(alpha=0.4) +
facet_wrap(~migratory_strategy, ncol=6)+
theme(axis.text.x = element_text(angle = 60, hjust = 1))+
labs(title = "Mass by Diet and Migratory Strategy",
x = NULL,
y = "Log 10 Mass",
fill = "Migratory Strategy")
ecosphere <- read_csv("data/ecs21351-sup-0003-SupplementS1.csv", skip=2, col_names = T) %>%
clean_names() %>%
separate(scientific_name, into = c("genus", "species"), sep=" ") %>%
na.omit() # remove NA's for now
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
library(here)
options(scipen=999) #cancels the use of scientific notation for the session
getwd()
homerange <- read_csv(here( "data", "Tamburelloetal_HomeRangeDatabase.csv"))
ecosphere %>%
ggplot(aes(x=log10_mass))+
geom_density()+
facet_wrap(~habitat)+ # density grouped by habitat
labs(title= "Distribution of Log 10 Mass by Habitat", x= "Log 10 Mass", y= "Density")
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
library(here)
options(scipen=999) #cancels the use of scientific notation for the session
getwd()
homerange <- read_csv(here( "data", "Tamburelloetal_HomeRangeDatabase.csv"))
ecosphere %>%
ggplot(aes(x=log10_mass))+
geom_density()+
facet_wrap(~habitat)+ # density grouped by habitat
labs(title= "Distribution of Log 10 Mass by Habitat", x= "Log 10 Mass", y= "Density")
ecosphere <- read_csv("data/ecs21351-sup-0003-SupplementS1.csv", skip=2, col_names = T) %>%
clean_names() %>%
separate(scientific_name, into = c("genus", "species"), sep=" ") %>%
na.omit() # remove NA's for now
ecosphere %>%
ggplot(aes(x=log10_mass))+
geom_density()+
facet_grid(habitat~life_expectancy)
ecosphere %>%
ggplot(aes(x=log10_mass))+
geom_density()+
facet_wrap(~habitat)+ # density grouped by habitat
labs(title= "Distribution of Log 10 Mass by Habitat", x= "Log 10 Mass", y= "Density")
knitr::opts_chunk$set(echo = TRUE)
income <- read_csv(here("practice_midterm2", "data", "income_per_person_gdppercapita_ppp_inflation_adjusted.csv"))
income_tidy <-income %>%
pivot_longer(-country,
names_to = "year",
values_to = "income") %>%
mutate(country= as_factor(country))
